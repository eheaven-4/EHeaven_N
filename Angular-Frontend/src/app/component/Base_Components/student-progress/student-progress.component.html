<div class="row">

    <div class="container-fluid">
        <div class="row">
            <div class="container-fluid" style="background-color:#F8F9FA">
                <div>
                    <div class="container">
                        <h2 class="topic">My Progress</h2>
                        <hr>
                    </div>

                    <div style="padding-left: 50px; padding-right: 50px; padding-bottom: 50px">
                        <mat-tab-group>

                            <mat-tab label="Student Portal" *ngIf="usertype == 'Student'  || usertype == 'Parent'">
                                <!--Student View-->
                                <div class="container sex" *ngIf="studentAverageDiv == true" style="margin-top: 50px;">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="row box1" matTooltip="Your {position} of {2019} {term}">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Class position</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px;">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">{{stuClzAve.stuPosition}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="row box2">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Class name</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px;">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">{{stuClzAve.classname}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="row box3"
                                                matTooltip="Your {subject} average whthin your class ">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Average in class</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px;">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">{{stuClzAve.stuAverage}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="row box4"
                                                matTooltip="Your {subject} average from all the section">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Average in school</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">5.1733</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>


                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="container" style="margin-top: 30px;">
                                            <form [formGroup]="DataForm1"
                                                style="margin-top: 80px;width: 97%; margin: auto;">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <label>Year Required :</label>
                                                            <mat-select #t class="browser-default custom-select mb-4 border"
                                                                [(ngModel)]="year" name="year" formControlName="year">
                                                                <mat-option style="text-align: left" *ngFor='let year of myYear'
                                                                    [value]='year' [value]="year">{{ year }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <label>Term Required :</label>
                                                            <mat-select class="browser-default custom-select mb-4 box_border"
                                                                [(ngModel)]="term" name="term" formControlName="term">
                                                                <mat-option style="text-align: left" *ngFor='let term of myTerm'
                                                                    [value]="term">
                                                                    {{term}}</mat-option>
                                                            </mat-select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <label>Class Name Required :</label>
        
                                                            <input type="text" class="form-control box_border"
                                                                formControlName="className" name="className"
                                                                matTooltip="Enter in block letters (i.e: 1A)"
                                                                style="text-align: left">
        
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <button mat-raised-button ld-ext-right running class="search_btn"
                                                                (click)="StudentData()">
                                                                <img src="../../../../assets/icons/searchengin-brands.svg"
                                                                    style="width: 20px">Search</button>
                                                        </div>
                                                    </div>                                                
                                                </div>                                               
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="container-fluid" style="margin-bottom: 30px;">
                                    <div class="row" style="margin: auto;">
                                        <div class="col-md-6" *ngFor="let stmarks of stuSubMarks"
                                            [formGroup]="SubjectForm">
                                            <mat-card style="height: 55px; margin-bottom: 10px;cursor: pointer;"
                                                (click)="subjectData(stmarks,userid)">
                                                <div class="row">
                                                    <div class="col-md-1">
                                                        <p value="stmarks.year" name="stMark_year"
                                                            FormControlName="stMark_year">
                                                            {{stmarks.year}}</p>
                                                    </div>
                                                    <div style="display: block;" class="col-md-1"
                                                        name="stMark_classname" value="stMark_classname">
                                                        -{{stmarks.classname}}
                                                    </div>
                                                    <div class="col-md-2" name="stMark_term" value="stMark_term">
                                                        Term {{stmarks.term}}
                                                    </div>
                                                    <div class="col-md-6" name="stMark_subId" value="stMark_subId">
                                                        {{stmarks.subId}} - {{stmarks.subject}}
                                                    </div>
                                                    <div class="col-md-2" name="stMark_year" value="stMark_year">
                                                        {{stmarks.marks}}
                                                    </div>
                                                </div>
                                            </mat-card>
                                        </div>
                                    </div>
                                </div>
                                <!-- *ngIf="usertype == 'Teacher' || usertype == 'Principal'" -->




                                <div class="container" style="margin-bottom: 50px; " *ngIf="subjectGraph == true">
                                    <div class="row"
                                        style="margin: auto;width: 97%;background-color: rgb(255, 255, 255);border-radius: 4px;border: rgb(231, 231, 231) solid 1px">
                                        <div class="chart-wrapper">
                                            <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels"
                                                [options]="barChartOptions" [plugins]="barChartPlugins"
                                                [legend]="barChartLegend" [chartType]="barChartType"
                                                [colors]="chartColors">
                                            </canvas>
                                        </div>
                                    </div>
                                </div>

                                <div class="container" *ngIf="marksTable == true">
                                    <div class="table" >
                                        <div class="row tableheader">
                                            <div class="col-md-3 theaderContent">
                                                Student Id
                                            </div>
                                            <div class="col-md-6 theaderContent">
                                                Student Name
                                            </div>
                                            <div class="col-md-3 theaderContent" style="  text-align: center;">
                                                Subject Marks
                                            </div>

                                        </div>

                                        <div class="row tablebody" *ngFor="let stdata of allStuMarks">
                                            <div class="col-md-3 tbodyContent">
                                                {{stdata.userid}}
                                            </div>
                                            <div class="col-md-6 tbodyContent">
                                                {{stdata.name}}
                                            </div>
                                            <div class="col-md-3 tbodyContent" style="  text-align: center;">
                                                {{stdata.marks}}
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </mat-tab>































                            <mat-tab label="Teacher/Principle Portal"  *ngIf="usertype == 'Teacher'  || usertype == 'Principle'">
                                <!-- <div class="container" *ngIf="studentAverageDiv == true" style="margin-top: 50px;">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="row box1" matTooltip="Your {position} of {2019} {term}">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Class position</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px;">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">{{stuClzAve.stuPosition}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="row box2">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Class name</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px;">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">{{stuClzAve.classname}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="row box3"
                                                matTooltip="Your {subject} average whthin your class ">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Average in class</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px;">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">{{stuClzAve.stuAverage}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="row box4"
                                                matTooltip="Your {subject} average from all the section">
                                                <div class="container">
                                                    <div class="row">
                                                        <p class="box_smtext">* Average in school</p>
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <hr
                                                            style="width: 92%; background-color: white; margin-top: -25px">
                                                    </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row" style="margin-top: -30px;">
                                                        <span class="box_bigtext">5.1733</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div> -->


                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="container" style="margin-top: 30px;">
                                            <form [formGroup]="DataForm1"
                                                style="margin-top: 80px;width: 97%; margin: auto;">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <label>Year Required :</label>
                                                            <mat-select #t class="browser-default custom-select mb-4 border"
                                                                [(ngModel)]="year" name="year" formControlName="year">
                                                                <mat-option style="text-align: left" *ngFor='let year of myYear'
                                                                    [value]='year' [value]="year">{{ year }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <label>Term Required :</label>
                                                            <mat-select class="browser-default custom-select mb-4 box_border"
                                                                [(ngModel)]="term" name="term" formControlName="term">
                                                                <mat-option style="text-align: left" *ngFor='let term of myTerm'
                                                                    [value]="term">
                                                                    {{term}}</mat-option>
                                                            </mat-select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <label>Class Name Required :</label>
        
                                                            <input type="text" class="form-control box_border"
                                                                formControlName="className" name="className"
                                                                matTooltip="Enter in block letters (i.e: 1A)"
                                                                style="text-align: left">
        
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="row top_txt">
                                                            <button mat-raised-button ld-ext-right running class="search_btn"
                                                                (click)="classStudentData()">
                                                                <img src="../../../../assets/icons/searchengin-brands.svg"
                                                                    style="width: 20px">Search</button>
                                                        </div>
                                                    </div>                                                
                                                </div>                                               
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="container-fluid" style="margin-bottom: 30px;">
                                    <div class="row" style="margin: auto;">
                                        <div class="col-md-6" *ngFor="let stmarks of stuSubMarks"
                                            [formGroup]="SubjectForm">
                                            <mat-card style="height: 55px; margin-bottom: 10px;cursor: pointer;"
                                                (click)="subjectData(stmarks,userid)">
                                                <div class="row">
                                                    <div class="col-md-1">
                                                        <p value="stmarks.year" name="stMark_year"
                                                            FormControlName="stMark_year">
                                                            {{stmarks.year}}</p>
                                                    </div>
                                                    <div style="display: block;" class="col-md-1"
                                                        name="stMark_classname" value="stMark_classname">
                                                        -{{stmarks.classname}}
                                                    </div>
                                                    <div class="col-md-2" name="stMark_term" value="stMark_term">
                                                        Term {{stmarks.term}}
                                                    </div>
                                                    <div class="col-md-6" name="stMark_subId" value="stMark_subId">
                                                        {{stmarks.subId}} - {{stmarks.subject}}
                                                    </div>
                                                    <div class="col-md-2" name="stMark_year" value="stMark_year">
                                                        {{stmarks.marks}}
                                                    </div>
                                                </div>
                                            </mat-card>
                                        </div>
                                    </div>
                                </div>
                                <!-- *ngIf="usertype == 'Teacher' || usertype == 'Principal'" -->




                                <div class="container" style="margin-bottom: 50px; " *ngIf="subjectGraph == true">
                                    <div class="row"
                                        style="margin: auto;width: 97%;background-color: rgb(255, 255, 255);border-radius: 4px;border: rgb(231, 231, 231) solid 1px">
                                        <div class="chart-wrapper">
                                            <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels"
                                                [options]="barChartOptions" [plugins]="barChartPlugins"
                                                [legend]="barChartLegend" [chartType]="barChartType"
                                                [colors]="chartColors">
                                            </canvas>
                                        </div>
                                    </div>
                                </div>

                                <div class="container" *ngIf="marksTable == true">
                                    <div class="table" >
                                        <div class="row tableheader">
                                            <div class="col-md-3 theaderContent">
                                                Student Id
                                            </div>
                                            <div class="col-md-6 theaderContent">
                                                Student Name
                                            </div>
                                            <div class="col-md-3 theaderContent" style="  text-align: center;">
                                                Student Average
                                            </div>

                                        </div>

                                        <div class="row tablebody" *ngFor="let stdata of allStudnetAverages" (click)="studentDetails(stdata)">
                                            <div class="col-md-3 tbodyContent">
                                                {{stdata.userid}}
                                            </div>
                                            <div class="col-md-6 tbodyContent">
                                                {{stdata.username}}
                                            </div>
                                            <div class="col-md-3 tbodyContent" style="  text-align: center;">
                                                {{stdata.average}}
                                            </div>

                                        </div>
                                    </div>

                                </div>

                            </mat-tab>
                        </mat-tab-group>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>